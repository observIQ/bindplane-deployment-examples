│ Error: Provider produced inconsistent result after apply
│ 
│ When applying changes to google_service_account.bindplane, provider "provider[\"registry.terraform.io/hashicorp/google\"]" produced an unexpected new value: Root object was present, but
│ now absent.
│ 
│ This is a bug in the provider, which should be reported in the provider's own issue tracker.



second apply


Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # google_project_iam_member.bindplane_pubsub_permissions["roles/pubsub.admin"] will be created
  + resource "google_project_iam_member" "bindplane_pubsub_permissions" {
      + etag    = (known after apply)
      + id      = (known after apply)
      + member  = (known after apply)
      + project = "bpop-deploy-examples-jsirianni"
      + role    = "roles/pubsub.admin"
    }

  # google_pubsub_topic_iam_binding.bindplane_pubsub_topic_permissions will be created
  + resource "google_pubsub_topic_iam_binding" "bindplane_pubsub_topic_permissions" {
      + etag    = (known after apply)
      + id      = (known after apply)
      + members = (known after apply)
      + project = (known after apply)
      + role    = "roles/pubsub.publisher"
      + topic   = "bindplane"
    }

  # google_service_account.bindplane will be created
  + resource "google_service_account" "bindplane" {
      + account_id   = "bindplane-bindplane-sa"
      + disabled     = false
      + display_name = "Bindplane Service Account"
      + email        = (known after apply)
      + id           = (known after apply)
      + member       = (known after apply)
      + name         = (known after apply)
      + project      = "bpop-deploy-examples-jsirianni"
      + unique_id    = (known after apply)
    }

  # google_service_account_iam_binding.bindplane_workload_identity will be created
  + resource "google_service_account_iam_binding" "bindplane_workload_identity" {
      + etag               = (known after apply)
      + id                 = (known after apply)
      + members            = [
          + "serviceAccount:bpop-deploy-examples-jsirianni.svc.id.goog[bindplane/bindplane]",
        ]
      + role               = "roles/iam.workloadIdentityUser"
      + service_account_id = (known after apply)
    }

Plan: 4 to add, 0 to change, 0 to destroy.




followed by import



➜  production git:(main) ✗ terraform import google_service_account.bindplane projects/bpop-deploy-examples-jsirianni/serviceAccounts/bindplane-bindplane-sa@bpop-deploy-examples-jsirianni.iam.gserviceaccount.com 
google_service_account.bindplane: Importing from ID "projects/bpop-deploy-examples-jsirianni/serviceAccounts/bindplane-bindplane-sa@bpop-deploy-examples-jsirianni.iam.gserviceaccount.com"...
data.google_client_config.current: Reading...
google_service_account.bindplane: Import prepared!
  Prepared google_service_account for import
google_service_account.bindplane: Refreshing state... [id=projects/bpop-deploy-examples-jsirianni/serviceAccounts/bindplane-bindplane-sa@bpop-deploy-examples-jsirianni.iam.gserviceaccount.com]
data.google_client_config.current: Read complete after 0s [id=projects/"bpop-deploy-examples-jsirianni"/regions/"us-central1"/zones/<null>]

Import successful!

